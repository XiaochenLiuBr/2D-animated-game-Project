{"version":3,"sources":["script.js"],"names":["playerState","dropdown","document","getElementById","e","canvas","ctx","getContext","width","CANVAS_WIDTH","playerImage","Image","src","spriteWidth","spriteHeight","staggerFrames","spriteAnimations","animationStates","frames","name","positionX","animate","clearRect","CANVAS_HEIGHT","gameFrame","Math","floor","loc","length","requestAnimationFrame","frameY","position","y","drawImage","frameX","forEach","state","index","j","console","log"],"mappings":"aAAA,IAAIA,YAAc,MACZC,SAAWC,SAASC,eAAe,cADzCF,SAAID,iBAAJ,SAAA,SAAAI,GACMH,YAAWC,EAAAA,OAASC,QAGzB,IAFDE,OAAAH,SAAAC,eAAA,WAIME,IAAMA,OAAGH,WAASC,MAClBG,aAAaC,OAAWC,MAA9B,IACMC,cAAeJ,OAAOG,OAA5B,IAGME,YAAc,IAAIC,MACxBD,YAAYE,IAAM,iBAClB,IAAMC,YAAc,IACdC,aAAe,IAGfC,UAAAA,EACAC,cAAgB,EAChBC,iBACF,GACQA,gBADR,CAEIC,CAEJC,KAAA,OACUD,OADV,GAIA,CACUC,KADV,OAEUD,OAAG,GAGTC,CACMA,KAAG,OAEbD,OAAA,GAEIA,CAEJC,KAAA,MACUD,OADV,GAIA,CACUC,KADV,QAEUD,OAAG,IAGTC,CACMA,KAAG,MAEbD,OAAA,GAEIA,CAEJC,KAAA,OACUD,OADV,GArCJ,CA2CAD,KAAAA,OACQC,OAAS,GAAb,CAVIC,KAAM,KAaND,OAAJ,IAEI,CACAA,KAAA,SAAkBA,OAAEE,IAexB,SAAAC,UARAf,IAAIgB,UAAU,EAAG,EAAGb,aAAcc,eAUlCC,IAAAA,EAASC,KAAAC,MAAAF,UAAAT,eAAAC,iBAAAhB,aAAA2B,IAAAC,OACTC,EAAAA,YAAsBR,EACrBS,EAAAd,iBAAAhB,aAAA2B,IAAAI,GAAAC,EARD1B,IAAI2B,UAAUvB,YAAawB,EAAQJ,EAAQjB,YAAaC,aAAc,EAAG,EAAGD,YAAaC,cAe7FU,YACAK,sBAAAR,SAlCAJ,gBAAgBkB,QAAQ,SAACC,EAAOC,GAI5B,IAKArB,IAAAA,EAAAA,CATJW,IAAA,IAIYW,EAAI,EAAGA,EAAGF,EAAMlB,OAAQoB,IAAI,CASxC,IAASjB,EAASiB,EAAAzB,YACVS,EAAgBb,EAAAA,aAChBsB,EAAQJ,IAAGF,KAAKC,CAAAA,EAAMF,EAASQ,EAACjB,IAEpCC,iBAAaA,EAAAA,MAAiBhB,IAG9BuC,QAAAC,IAAAxB,kBAgBJK","file":"script.min.js","sourcesContent":["let playerState = \"sit\";\r\nconst dropdown = document.getElementById('animations');\r\ndropdown.addEventListener('change', function(e){\r\n    playerState = e.target.value;\r\n})\r\n\r\nconst canvas = document.getElementById('canvas1');\r\nconst ctx = canvas.getContext('2d');\r\nconst CANVAS_WIDTH = canvas.width = 600;\r\nconst CANVAS_HEIGHT = canvas.height = 600;\r\n\r\nconst playerImage = new Image();\r\nplayerImage.src = 'shadow_dog.png';\r\nconst spriteWidth = 575;\r\nconst spriteHeight = 523;\r\n\r\nlet gameFrame = 0;\r\nconst staggerFrames = 5;\r\nconst spriteAnimations = [];\r\nconst animationStates = [\r\n    {\r\n        name: 'idle',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'jump',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'fall',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'run',\r\n        frames : 9,\r\n    },\r\n    {\r\n        name: 'dizzy',\r\n        frames : 11,\r\n    },\r\n    {\r\n        name: 'sit',\r\n        frames : 5,\r\n    },\r\n    {\r\n        name: 'roll',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'bite',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'ko',\r\n        frames : 12,\r\n    },\r\n    {\r\n        name: 'gethit',\r\n        frames : 4,\r\n    }\r\n];\r\n\r\nanimationStates.forEach((state, index) => {\r\n    let frames = {\r\n        loc: [],\r\n    }\r\n    for(let j = 0; j <state.frames; j++){\r\n        let positionX = j * spriteWidth;\r\n        let positionY = index * spriteHeight;\r\n        frames.loc.push({x: positionX, y: positionY})\r\n    }\r\n    spriteAnimations[state.name] = frames;\r\n})\r\nconsole.log(spriteAnimations);\r\n\r\nfunction animate(){\r\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n    let position = Math.floor(gameFrame/staggerFrames) % spriteAnimations[playerState].loc.length;\r\n    let frameX = spriteWidth*position;\r\n    let frameY = spriteAnimations[playerState].loc[position].y;\r\n    ctx.drawImage(playerImage, frameX, frameY, spriteWidth, spriteHeight, 0, 0, spriteWidth, spriteHeight);\r\n    // if(gameFrame % staggerFrames == 0){\r\n    //     if(frameX < 6) frameX++;\r\n    //     else frameX = 0;\r\n    // }\r\n\r\n    gameFrame++;\r\n    requestAnimationFrame(animate);\r\n    };\r\nanimate();\r\n\r\n// spriteAnimations = [\r\n//     \"idle\" = {\r\n//         loc: [\r\n//             {x: 0, y: 0},\r\n//             {x: 575, y: 0},\r\n//             {x: 1150, y: 0},\r\n//             {x: 1725, y: 0},\r\n//             {x: 2300, y: 0},\r\n//             {x: 2875, y: 0},\r\n//             {x: 3450, y: 0},\r\n//         ]\r\n//     },\r\n//     \"jump\" = {\r\n\r\n//     }\r\n// ];\r\n"]}