{"version":3,"sources":["script.js"],"names":["playerState","dropdown","document","getElementById","addEventListener","e","target","value","canvas","ctx","getContext","CANVAS_WIDTH","width","CANVAS_HEIGHT","height","playerImage","Image","src","spriteWidth","spriteHeight","gameFrame","staggerFrames","spriteAnimations","animationStates","name","frames","forEach","state","index","loc","j","positionX","positionY","push","x","y","console","log","animate","clearRect","position","Math","floor","length","frameX","frameY","drawImage","requestAnimationFrame"],"mappings":"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","sourcesContent":["let playerState = \"sit\";\r\nconst dropdown = document.getElementById('animations');\r\ndropdown.addEventListener('change', function(e){\r\n    playerState = e.target.value;\r\n})\r\n\r\nconst canvas = document.getElementById('canvas1');\r\nconst ctx = canvas.getContext('2d');\r\nconst CANVAS_WIDTH = canvas.width = 600;\r\nconst CANVAS_HEIGHT = canvas.height = 600;\r\n\r\nconst playerImage = new Image();\r\nplayerImage.src = 'shadow_dog.png';\r\nconst spriteWidth = 575;\r\nconst spriteHeight = 523;\r\n\r\nlet gameFrame = 0;\r\nconst staggerFrames = 5;\r\nconst spriteAnimations = [];\r\nconst animationStates = [\r\n    {\r\n        name: 'idle',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'jump',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'fall',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'run',\r\n        frames : 9,\r\n    },\r\n    {\r\n        name: 'dizzy',\r\n        frames : 11,\r\n    },\r\n    {\r\n        name: 'sit',\r\n        frames : 5,\r\n    },\r\n    {\r\n        name: 'roll',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'bite',\r\n        frames : 7,\r\n    },\r\n    {\r\n        name: 'ko',\r\n        frames : 12,\r\n    },\r\n    {\r\n        name: 'gethit',\r\n        frames : 4,\r\n    }\r\n];\r\n\r\nanimationStates.forEach((state, index) => {\r\n    let frames = {\r\n        loc: [],\r\n    }\r\n    for(let j = 0; j <state.frames; j++){\r\n        let positionX = j * spriteWidth;\r\n        let positionY = index * spriteHeight;\r\n        frames.loc.push({x: positionX, y: positionY})\r\n    }\r\n    spriteAnimations[state.name] = frames;\r\n})\r\nconsole.log(spriteAnimations);\r\n\r\nfunction animate(){\r\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n    let position = Math.floor(gameFrame/staggerFrames) % spriteAnimations[playerState].loc.length;\r\n    let frameX = spriteWidth*position;\r\n    let frameY = spriteAnimations[playerState].loc[position].y;\r\n    ctx.drawImage(playerImage, frameX, frameY, spriteWidth, spriteHeight, 0, 0, spriteWidth, spriteHeight);\r\n    // if(gameFrame % staggerFrames == 0){\r\n    //     if(frameX < 6) frameX++;\r\n    //     else frameX = 0;\r\n    // }\r\n\r\n    gameFrame++;\r\n    requestAnimationFrame(animate);\r\n    };\r\nanimate();\r\n\r\n// spriteAnimations = [\r\n//     \"idle\" = {\r\n//         loc: [\r\n//             {x: 0, y: 0},\r\n//             {x: 575, y: 0},\r\n//             {x: 1150, y: 0},\r\n//             {x: 1725, y: 0},\r\n//             {x: 2300, y: 0},\r\n//             {x: 2875, y: 0},\r\n//             {x: 3450, y: 0},\r\n//         ]\r\n//     },\r\n//     \"jump\" = {\r\n\r\n//     }\r\n// ];\r\n"],"file":"script.dev.js"}